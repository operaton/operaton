# Auto-merge configuration
# This file defines which dependencies can be automatically merged
# by the auto-merge workflow after all checks have passed.

# Configuration format:
# - author: GitHub username (e.g., 'dependabot[bot]')
#   labels: List of labels that must be present on the PR
#   includes: List of dependency patterns to allow
#            (supports wildcards with *)

auto-merge-rules:
  # OpenRewrite dependencies - can be auto-merged after successful build
  - author: 'dependabot[bot]'
    labels: ['dependencies:maven']
    includes:
      - 'org.openrewrite*'
      - 'org.openrewrite.recipe*'

  # NPM dependencies - all can be merged after successful build
  - author: 'dependabot[bot]'
    labels: ['dependencies:npm']
    includes:
      - '*'

  # Additional Maven dependencies that are safe to auto-merge
  # Note: DB drivers are NOT included as they require integration tests
  - author: 'dependabot[bot]'
    labels: ['dependencies:maven']
    includes:
      - 'org.springframework*'
      - 'org.junit*'
      - 'org.assertj*'
      - 'org.mockito*'
      - 'com.google.guava*'
      - 'org.apache.commons*'
      - 'org.slf4j*'
      - 'ch.qos.logback*'
      - 'org.apache.httpcomponents*'

  # Devcontainer dependencies can be auto-merged
  - author: 'dependabot[bot]'
    labels: ['dependencies:devcontainers']
    includes:
      - '*'

# Note: dependencies:github-action PRs are NOT allowlisted
#       for security reasons (require manual review)
# Note: DB drivers (postgresql, mysql, oracle, etc.) are NOT
#       allowlisted as they require integration tests
